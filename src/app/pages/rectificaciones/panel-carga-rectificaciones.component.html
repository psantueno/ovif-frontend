<div class="home-container">
  <app-back-button class="home-back" text="Volver al menú principal" [link]="['/home']"></app-back-button>
  <div class="home-header">
    <h1>MENU DE CARGA DE RECTIFICACIONES</h1>
    <p class="municipio-info">
      <mat-icon>location_on</mat-icon>
      <span>Municipio:</span>
      <strong>{{ municipioSeleccionado?.municipio_nombre || 'No asignado' }}</strong>
    </p>
    <mat-card class="container-helper ">
      <p class="selector-helper">
        <mat-icon>info</mat-icon>
        <span>
          La rectificación de importes está habilitada del 1 al 10 del mes siguiente al período informado.
        </span>
      </p>
      <p class="selector-helper">
        <mat-icon>info</mat-icon>
        <span>
          Finalizado dicho plazo, el sistema no permitirá nuevos cambios.
        </span>
        </p>
    </mat-card>
  </div>

  <!-- Selector de Ejercicio/Mes -->
  <div class="ejercicio-selector">
    <div class="selector-row">
      <label for="ejercicioMes" class="selector-label">
        <mat-icon>event</mat-icon>
        <span>Ejercicio y Mes Habilitado:</span>
      </label>
      <select id="ejercicioMes" [(ngModel)]="ejercicioMes" readonly>
        <option *ngFor="let em of ejerciciosMeses" [value]="em.valor">
          {{ em.texto }}
        </option>
      </select>
    </div>
    <div class="pauta-summary" *ngIf="ejercicioMes || periodoActivo">

      <span class="pauta-fecha-chip" *ngIf="periodoActivo?.fecha_cierre">
        <mat-icon>event</mat-icon>
        Fecha de cierre: {{ periodoActivo?.fecha_cierre | date: 'dd/MM/yyyy' }}
      </span>
      <p class="pauta-modulos">(*) {{ modulosHabilitadosLabel }}</p>
    </div>
  </div>

  <!-- Acciones principales -->
  <div class="home-actions">
    <button type="button" class="home-card" (click)="irA('remuneraciones', true)" [disabled]="!isModuloHabilitado('remuneraciones')">
      <mat-icon>groups</mat-icon>
      <span>Remuneraciones</span>
    </button>

    <button type="button" class="home-card" (click)="irA('recaudaciones', true)"
      [disabled]="!isModuloHabilitado('recaudaciones')">
      <mat-icon>assessment</mat-icon>
      <span>Recaudaciones</span>
    </button>
  </div>
