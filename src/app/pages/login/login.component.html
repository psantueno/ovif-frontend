<div class="login-container">
  <mat-card class="login-card">
    <!-- Imagen lateral con texto institucional -->
    <div class="login-left">
      <img src="assets/img/salto_agrio.svg" alt="Fotograf√≠a del Salto del Agrio" />
      <div class="left-overlay">
        <div class="institutional-text">
          <p>OFICINA VIRTUAL DE</p>
          <p>INFORMACI√ìN FISCAL</p>
        </div>
        <div class="left-logos">
          <img src="assets/img/logo_gobierno.svg" alt="Gobierno de Neuqu√©n" />
          <img src="assets/img/logo_neuquen.svg" alt="Provincia del Neuqu√©n" />
        </div>
      </div>
    </div>

    <!-- Formulario de login -->
    <div class="login-right">
      <h2>BIENVENIDO</h2>
      <p>Inicie sesi√≥n con sus credenciales.</p>

      <form [formGroup]="form" (ngSubmit)="onLogin()">
        <!-- Usuario -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Nombre de usuario</mat-label>
          <input matInput formControlName="usuario" placeholder="Nombre de usuario" />
          <mat-error *ngIf="form.get('usuario')?.hasError('required')">
            (*) El usuario es obligatorio
          </mat-error>
        </mat-form-field>

        <!-- Contrase√±a -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Contrase√±a</mat-label>
          <input
            matInput
            type="password"
            formControlName="password"
            placeholder="Contrase√±a"
          />
          <mat-error *ngIf="form.get('password')?.hasError('required')">
            (*) La contrase√±a es obligatoria
          </mat-error>
        </mat-form-field>

        <!-- Bot√≥n con loader -->
        <button
          mat-raised-button
          color="primary"
          class="btn-ingresar"
          type="submit"
          [disabled]="loading"
        >
          <ng-container *ngIf="!loading; else loadingTpl">INGRESAR</ng-container>
        </button>

        <ng-template #loadingTpl>
          <div class="loading-content">
            <mat-spinner diameter="22" class="custom-spinner"></mat-spinner>
            <span>Iniciando...</span>
          </div>
        </ng-template>

        <!-- Error global -->
        <p class="error" *ngIf="errorMessage"><strong>(*) Error:</strong> {{ errorMessage }}</p>

        <!-- üîπ Enlace Olvid√© mi contrase√±a -->
        <div class="forgot-link">
          Si olvidaste tu contrase√±a,
          <a routerLink="/forgot-password">haz click aqu√≠</a>
        </div>
      </form>
    </div>
  </mat-card>
</div>
