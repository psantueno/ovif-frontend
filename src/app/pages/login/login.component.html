<div class="login-container">
  <mat-card class="login-card">
    <!-- Imagen lateral -->
    <div class="login-left">
      <img src="assets/img/salto_agrio.svg" alt="Fotograf칤a del Salto del Agrio" />
    </div>

    <!-- Formulario de login -->
    <div class="login-right">
      <h2>BIENVENIDO</h2>
      <p>Inicie sesi칩n con sus credenciales.</p>

      <form [formGroup]="form" (ngSubmit)="onLogin()">
        <!-- Usuario -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Nombre de usuario</mat-label>
          <input matInput formControlName="usuario" placeholder="Ingrese su usuario" />
          <mat-error *ngIf="form.get('usuario')?.hasError('required')">
            (*) El usuario es obligatorio
          </mat-error>
        </mat-form-field>

        <!-- Contrase침a -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Contrase침a</mat-label>
          <input
            matInput
            type="password"
            formControlName="password"
            placeholder="Ingrese su contrase침a"
          />
          <mat-error *ngIf="form.get('password')?.hasError('required')">
            (*) La contrase침a es obligatoria
          </mat-error>
        </mat-form-field>

        <!-- Bot칩n con loader -->
        <button
          mat-raised-button
          color="primary"
          class="btn-ingresar"
          type="submit"
          [disabled]="form.invalid || loading"
        >
          <ng-container *ngIf="!loading; else loadingTpl">INGRESAR</ng-container>
        </button>

        <ng-template #loadingTpl>
          <div class="loading-content">
            <mat-spinner diameter="22" class="custom-spinner"></mat-spinner>
            <span>Iniciando...</span>
          </div>
        </ng-template>

        <!-- Error global -->
        <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>

        <!-- 游댳 Enlace Olvid칠 mi contrase침a -->
        <div class="forgot-link">
          Si olvidaste tu contrase침a,
          <a routerLink="/forgot-password">haz click aqu칤</a>
        </div>
      </form>
    </div>
  </mat-card>
</div>
